<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      lang="en"
      layout:decorator="layout">

<body>
<section layout:fragment="frontpage-main" class="frontpage--plugin-container">

  <div class="plugin-grid">
    <th:block th:each="myPlugin : ${myPlugins}">
      <div class="plugin-grid__cell plugin-grid__cell_added">
        <header class="plugin-grid__cell_header">
          <h2 class="plugin-grid__cell__title" th:unless="${#strings.isEmpty(myPlugin.title)}"
              th:text="${myPlugin.title}">
          </h2>
          <div class="plugin-controls">
            <input type="checkbox" th:id="plugin-controls- + ${myPlugin.uuid}" id="plugin-controls" />
            <label th:for="plugin-controls- + ${myPlugin.uuid}" for="plugin-controls" class="plugin-controls__button">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" width="24" height="24" class="plugin-controls__button">
                <path d="M106.9 55.3c-.8-2.8-1.8-5.4-3.2-7.9l8.8-8.8L99.8 26 91 34.8c-4.9-2.8-10.5-4.3-16.3-4.4l-3.2-12L54.2 23l3.2 12c-5 2.9-9.1 7.1-11.9 11.9l-12-3.2L29 61.1l12 3.2c0 2.8.4 5.6 1.1 8.4.8 2.8 1.8 5.4 3.2 7.9l-8.8 8.8L49.2 102l8.8-8.8c4.9 2.8 10.5 4.3 16.3 4.4l3.2 12 17.3-4.6-3.2-12c5-2.9 9.1-7.1 11.9-11.9l12 3.2 4.6-17.3-12-3.2c0-2.9-.4-5.7-1.2-8.5zM78.6 79.1c-8.4 2.2-16.9-2.7-19.2-11.1s2.7-16.9 11.1-19.2c8.4-2.2 16.9 2.7 19.2 11.1 2.2 8.4-2.8 17-11.1 19.2z" fill="#cadbea"/>
                <path d="M96.9 55.3c-.8-2.8-1.8-5.4-3.2-7.9l8.8-8.8L89.8 26 81 34.8c-4.9-2.8-10.5-4.3-16.3-4.4l-3.2-12L44.2 23l3.2 12c-5 2.9-9.1 7.1-11.9 11.9l-12-3.2L19 61.1l12 3.2c0 2.8.4 5.6 1.1 8.4.8 2.8 1.8 5.4 3.2 7.9l-8.8 8.8L39.2 102l8.8-8.8c4.9 2.8 10.5 4.3 16.3 4.4l3.2 12 17.3-4.6-3.2-12c5-2.9 9.1-7.1 11.9-11.9l12 3.2 4.6-17.3-12-3.2c0-2.9-.4-5.7-1.2-8.5zM68.6 79.1c-8.4 2.2-16.9-2.7-19.2-11.1s2.7-16.9 11.1-19.2c8.4-2.2 16.9 2.7 19.2 11.1 2.2 8.4-2.8 17-11.1 19.2z" fill="#fff"/>
                <path d="M67.5 112.5c-1.3 0-2.5-.9-2.9-2.2l-2.6-9.8c-4.6-.3-9.2-1.6-13.4-3.6l-7.2 7.2c-1.2 1.2-3.1 1.2-4.2 0L24.4 91.4c-1.2-1.2-1.2-3.1 0-4.2l7.2-7.2c-1-2.1-1.8-4.3-2.4-6.5-.6-2.3-1-4.6-1.2-6.9L18.2 64c-.8-.2-1.4-.7-1.8-1.4s-.5-1.5-.3-2.3L20.7 43c.2-.8.7-1.4 1.4-1.8.7-.4 1.5-.5 2.3-.3l9.8 2.6c2.6-3.9 5.9-7.2 9.8-9.8l-2.6-9.8c-.4-1.6.5-3.2 2.1-3.7l17.3-4.6c1.6-.4 3.2.5 3.7 2.1l2.6 9.8c4.6.3 9.2 1.6 13.4 3.6l7.2-7.2c1.1-1.1 3.1-1.1 4.2 0l12.7 12.7c1.2 1.2 1.2 3.1 0 4.2L97.4 48c1 2.1 1.8 4.3 2.4 6.5.6 2.3 1 4.6 1.2 6.9l9.8 2.6c1.6.4 2.5 2.1 2.1 3.7L108.3 85c-.2.8-.7 1.4-1.4 1.8-.7.4-1.5.5-2.3.3l-9.8-2.6c-2.6 3.9-5.9 7.2-9.8 9.8l2.6 9.8c.4 1.6-.5 3.2-2.1 3.7l-17.3 4.6c-.2.1-.5.1-.7.1zM48 90.2c.5 0 1 .1 1.5.4 4.5 2.6 9.6 3.9 14.8 4 1.3 0 2.5.9 2.9 2.2l2.4 9.1 11.5-3.1-2.4-9.1c-.3-1.3.2-2.7 1.4-3.4 4.5-2.6 8.2-6.4 10.8-10.8.7-1.2 2.1-1.7 3.4-1.4l9.1 2.4 3.1-11.5-9.1-2.4c-1.3-.3-2.2-1.5-2.2-2.9 0-2.6-.4-5.2-1-7.7-.7-2.5-1.7-4.9-2.9-7.2-.7-1.2-.5-2.6.5-3.6l6.6-6.6-8.4-8.4-6.6 6.6c-1 1-2.4 1.2-3.6.5-4.5-2.6-9.6-3.9-14.8-4-1.3 0-2.5-.9-2.9-2.2L59.7 22 48 25.2l2.4 9.1c.3 1.3-.2 2.7-1.4 3.4-4.5 2.6-8.2 6.4-10.8 10.8-.7 1.2-2.1 1.7-3.4 1.4l-9.1-2.4L22.6 59l9.1 2.4c1.3.3 2.2 1.5 2.2 2.9 0 2.6.4 5.2 1 7.7.7 2.5 1.7 4.9 2.9 7.2.7 1.2.5 2.6-.5 3.6l-6.6 6.6 8.4 8.4 6.7-6.6c.6-.7 1.4-1 2.2-1zm16.5-7.5c-3.2 0-6.4-.8-9.3-2.5-4.3-2.5-7.4-6.5-8.7-11.3-1.3-4.8-.6-9.8 1.9-14.2 2.5-4.3 6.5-7.4 11.3-8.7 9.9-2.7 20.2 3.3 22.9 13.2 1.3 4.8.6 9.8-1.9 14.2-2.5 4.3-6.5 7.4-11.3 8.7-1.7.4-3.3.6-4.9.6zm4.1-3.6zm-4.1-27.8c-1.1 0-2.2.1-3.3.4-3.3.9-6 3-7.7 5.9-1.7 2.9-2.1 6.3-1.3 9.6.9 3.3 3 6 5.9 7.7 2.9 1.7 6.3 2.1 9.6 1.3 3.3-.9 6-3 7.7-5.9 1.7-2.9 2.1-6.3 1.3-9.6-1.5-5.6-6.6-9.4-12.2-9.4z" fill="#3f4a54"/>
              </svg>
              <span th:text="#{plugin.actions}" class="visually-hidden">
              Settings
            </span>
            </label>
            <ul class="plugin-controls__list">
              <li class="plugin-controls__list__item">
                <a class="plugin-controls__edit"
                   th:href="@{/plugins/{pluginId}/instances/{pluginInstanceId}(pluginId=${myPlugin.pluginId}, pluginInstanceId=${myPlugin.uuid})}">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" class="plugin-controls__edit__icon">
                    <path d="M14.5 5.5L3 17v4h4L18.5 9.5zM21.707 4.879l-2.586-2.586c-.391-.391-1.024-.391-1.414 0L16 4l4 4 1.707-1.707c.391-.391.391-1.024 0-1.414z"/>
                  </svg>
                  <span th:text="#{plugin.actions.edit}">
                  Edit
                </span>
                </a>
              </li>
              <li class="plugin-controls__list__item">
                <form th:id="plugin-remove- + ${myPlugin.uuid}"
                      th:action="@{/plugins/{pluginId}/instances/{pluginInstanceId}(pluginId=${myPlugin.pluginId}, pluginInstanceId=${myPlugin.uuid})}"
                      th:method="delete">
                  <button class="plugin-controls__remove" type="submit">
                  <span>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" width="16" height="16" class="plugin-controls__remove__icon">
                      <path d="M21.736 19.64l-2.098 2.096c-.383.386-1.011.386-1.396 0l-5.241-5.239-5.241 5.238c-.385.386-1.014.386-1.397-.002L4.264 19.64c-.385-.386-.385-1.011 0-1.398L9.505 13l-5.24-5.24c-.384-.387-.384-1.016 0-1.398l2.098-2.097c.384-.388 1.013-.388 1.397 0L13 9.506l5.242-5.241c.386-.388 1.014-.388 1.396 0l2.098 2.094c.386.386.386 1.015.001 1.401L16.496 13l5.24 5.241c.385.388.385 1.013 0 1.399z"/>
                    </svg>
                    <span th:text="#{plugin.actions.remove}">
                      Remove
                    </span>
                  </span>
                  </button>
                </form>
              </li>
            </ul>
          </div>
        </header>
        <div class="plugin-grid__cell__content" th:utext="${myPlugin.content}">
          myPluginContent
        </div>
      </div>
    </th:block>

    <a th:href="@{/add}" class="frontpage--link">
      <div class="plugin-grid__cell plugin-grid__cell_add" th:title="#{plugin.add.new}">
        <span>&#43;</span>
      </div>
    </a>

  </div>
</section>

<th:block layout:fragment="frontpage-scripts">
  <script th:src="@{/js/frontpage.js}"></script>
</th:block>

</body>
</html>
